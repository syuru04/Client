<div class="bs-docs-section">
  <div class="row">
    <div class="col-lg-4">
      <ui-tree [orgs]="orgs"></ui-tree>
      <input type="text" *ngIf="adding"
            (keydown.enter)="add($event)" (keydown.esc)="adding=false">
      <br><br>
    </div>
    <div class="col-lg-8">
      <header *ngIf="dept">
        <b (click)="renaming = true">{{dept.name}}</b> &nbsp; &nbsp; &nbsp; &nbsp;
        <button *ngIf="!emps || !emps.length" (click)="deleteDept()">x</button>
        <span *ngIf="emps && emps.length && !renaming">
          리더&nbsp; : &nbsp; &nbsp;
          <span *ngIf="dept.chief">{{dept.chiefName}}  &nbsp;
                <button (click)="relieve()">x</button></span>
          <span *ngIf="!dept.chief">(공석)</span>
        </span>
        <input type="text" *ngIf="renaming"
              (keydown.enter)="rename($event)" (keydown.esc)="renaming=false">
      </header>
      <table class="table table-responsive">
        <tr *ngFor="let e of emps" id="e_{{e.id}}"
            [class.sub]="e.deptId != dept.id"
            [draggable]="e.deptId == dept.id && e.id != dept.chief"
            (dragstart)="drag($event)">
          <td>
            <input type="radio" name="chief" title="리더"
              [checked]="e.id == dept.chief" (click)="appoint(e)"> &nbsp;
              {{e.name}}
          </td>
          <td>{{e.code}}</td>
          <td>{{e.phone}}</td>
          <td>{{e.email}}</td>
          <td>
            <button *ngIf="e.deptId == dept.id && e.id != dept.chief"
                  (click)="deleteEmp($event, e.id)">x</button>
          </td>
        </tr>
      </table>
    </div>
  </div>
</div>